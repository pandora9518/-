import{d as C,D as I,k as S,s as U,e as q,m as E,r as l,o as N,c as B,h as e,w as a,u as o,E as H,G as $,y as F,H as g,p as R,b as T,a as w,_ as z}from"./index-511768d2.js";import{g as D}from"./time-3310f87a.js";const x=n=>(R("data-v-40bbaacc"),n=n(),T(),n),G={class:"login_contain"},j=x(()=>w("h1",null,"Hello",-1)),A=x(()=>w("h2",null,"欢迎来到尚硅谷甄选",-1)),J=C({__name:"index",setup(n){let s=I({username:"admin",password:"111111"}),u=!1,_=S(),h=U(),p=q(),m=E();const y={username:[{require:!0,validator:(i,t,r)=>{t.length>=5?r():r(new Error("用户名不符合规范"))},trigger:"change"}],password:[{require:!0,min:6,max:18,message:"密码应该在6到18位之间",trigger:"change"}]};let v=async()=>{await _.value.validate(),u=!0;try{await h.login(s),g({type:"success",title:`Hi,${D()}好`,message:"登录成功"}),u=!1,m.query.redirect?p.push({path:m.query.redirect}):p.push("/")}catch(i){g({type:"error",message:i.message}),u=!1}};return(i,t)=>{const r=l("el-col"),f=l("el-input"),c=l("el-form-item"),b=l("el-button"),V=l("el-form"),k=l("el-row");return N(),B("div",G,[e(k,null,{default:a(()=>[e(r,{span:12,xs:0}),e(r,{span:12,xs:24},{default:a(()=>[e(V,{class:"login_form",model:o(s),rules:y,ref_key:"localForm",ref:_},{default:a(()=>[j,A,e(c,{prop:"username"},{default:a(()=>[e(f,{"prefix-icon":o(H),modelValue:o(s).username,"onUpdate:modelValue":t[0]||(t[0]=d=>o(s).username=d)},null,8,["prefix-icon","modelValue"])]),_:1}),e(c,{prop:"password"},{default:a(()=>[e(f,{type:"password","prefix-icon":o($),"show-password":"",modelValue:o(s).password,"onUpdate:modelValue":t[1]||(t[1]=d=>o(s).password=d)},null,8,["prefix-icon","modelValue"])]),_:1}),e(c,null,{default:a(()=>[e(b,{class:"login_btn",loading:o(u),type:"primary",size:"default",onClick:o(v)},{default:a(()=>[F("登录")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const O=z(J,[["__scopeId","data-v-40bbaacc"]]);export{O as default};
